<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>

</head>
<body>
<div th:fragment="listing-location-component">
    <!-- Load current page javascript file -->
    <script type="text/x-template" id="listing-location-component">
        <div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" th:text="#{page.my_listings.edit_listing.label.country}">Country</label>
                <div class="col-sm-10">
                    <select class="form-control" v-on:change="onCountryChange" v-model="selectedCountry">
                        <option value="-1" th:text="#{page.my_listings.edit_listing.label.select}">- Select -
                        </option>
                        <option v-for="dlLocationCountry in dlLocationCountries"
                                v-bind:value="dlLocationCountry.id">{{ dlLocationCountry.name }}
                        </option>
                    </select>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label"
                       th:text="#{page.my_listings.edit_listing.label.state}">State</label>
                <div class="col-sm-10">
                    <select class="form-control" v-on:change="onStateChange" v-model="selectedState"
                            v-bind:class="{loadinggif: isStateSelectLoading}">
                        <option value="-1" th:text="#{page.my_listings.edit_listing.label.select}">- Select -
                        </option>
                        <option v-for="dlLocationState in dlLocationStates" v-bind:value="dlLocationState.id">{{
                            dlLocationState.name }}
                        </option>
                    </select>
                </div>
            </div>
            <div class="form-group row required">
                <label class="col-sm-2 col-form-label"
                       th:text="#{page.my_listings.edit_listing.label.city}">City</label>
                <div class="col-sm-10">
                    <select class="form-control" v-model="selectedCity"
                            v-bind:class="{ loadinggif: isCitySelectLoading, 'is-invalid': $v.selectedCity.$error, 'is-valid': $v.selectedCity.$dirty &amp;&amp; !$v.selectedCity.$invalid }">
                        <option value="-1" th:text="#{page.my_listings.edit_listing.label.select}">- Select -
                        </option>
                        <option v-for="dlLocationCity in dlLocationCities" v-bind:value="dlLocationCity.id">{{
                            dlLocationCity.name }}
                        </option>
                    </select>
                    <span class="invalid-feedback"
                          v-if="!$v.selectedCity.ListHasSelectionValidator &amp;&amp; $v.selectedCity.$dirty"
                          th:text="#{validation.selection_required}">Selection is required</span>
                </div>
            </div>
        </div>
    </script>
</div>

</body>
</html>